/* 
Pontificia Universidad Javeriana 
Daniel Andrés Pineda Suárez
Proyecto 2 
Práctica 2-2*/

#include <avr/pgmspace.h>
#include "funciones.h"    //se incluyen las librerias


int entrada = SENO_FIR_20Hz; //se seleccionaj los distintos tipos de entrada, vease funciones.h
int salida=FIR1; //se seleciona la saldia, vease funciones.h

byte q = 0;  /* Variable para indexar el ruido */

//---------Ruido gaussiano uniforme de  5000 muestras----------//
const PROGMEM uint16_t noise[5000]={
595,796,161,645,561,309,444,565,1066,941,302,982,624,502,622,480,492,742,730,731,616,324,623,764,587,672,624,464,557,389,649,334,346,386,55,734,562,394,724,246,496,474,561,560,377,507,486,609,681,683,378,523,323,339,510,749,392,569,477,685,343,517,597,682,751,525,280,396,347,876,416,627,482,649,393,294,291,587,484,481,731,557,542,758,387,619,641,474,545,331,334,528,623,912,408,541,499,212,443,233,642,374,527,427,559,418,587,626,777,481,180,381,721,345,660,531,734,208,481,324,962,639,725,347,439,469,682,468,620,193,457,384,267,590,555,517,305,686,566,465,515,471,240,467,383,360,332,429,201,661,592,508,506,388,669,491,401,721,477,420,466,380,338,903,768,559,317,377,484,634,305,150,287,563,572,582,491,540,438,645,300,582,380,460,597,673,338,707,614,501,481,478,465,515,519,640,748,584,479,608,540,352,659,559,532,591,552,366,486,489,429,772,376,437,401,329,482,469,749,473,347,760,703,476,278,443,487,554,471,580,572,318,365,397,433,462,513,42,441,704,346,656,566,507,540,269,498,760,527,518,398,507,548,578,454,475,825,161,857,564,667,254,420,468,577,253,585,324,522,613,562,679,667,411,551,365,307,655,512,503,653,604,566,705,656,549,404,411,696,262,508,209,670,645,512,501,126,602,172,152,524,364,575,616,644,404,581,527,640,595,651,491,489,668,182,433,315,452,612,639,354,438,533,466,558,573,367,484,181,689,414,325,472,290,508,425,849,688,124,580,295,472,537,627,469,756,437,562,615,525,648,562,390,232,800,418,528,599,529,371,439,492,741,378,633,559,475,348,467,498,284,541,384,497,564,371,467,566,227,672,887,660,463,578,351,803,657,634,376,561,425,463,423,353,371,479,248,606,493,620,553,588,282,353,442,528,686,467,707,585,693,531,410,282,536,638,466,428,464,342,435,483,519,502,606,528,793,560,791,399,593,471,605,604,173,306,288,574,739,461,637,596,348,573,395,747,506,765,446,603,502,198,359,606,503,338,414,550,358,663,412,792,344,542,276,399,420,574,658,558,454,638,635,530,600,575,359,629,410,418,539,464,491,604,674,481,562,475,547,580,416,554,605,526,780,417,397,240,653,646,499,651,540,557,529,580,527,944,331,224,335,342,444,485,478,595,572,628,787,701,313,151,651,227,522,517,857,501,433,548,550,522,417,322,561,303,352,718,447,490,651,465,671,458,668,609,478,377,350,470,444,448,664,465,689,429,662,431,539,662,447,444,822,659,445,612,456,621,731,263,671,737,519,782,536,320,172,460,622,561,576,422,534,258,394,385,592,509,332,510,405,408,645,529,573,649,539,597,617,693,585,730,515,504,775,432,511,654,535,729,672,557,391,599,297,549,637,545,648,828,655,553,611,577,308,447,701,505,602,355,522,605,300,565,483,366,506,218,182,329,358,330,244,556,264,529,633,511,526,453,282,505,660,781,445,259,537,570,476,333,825,146,432,307,413,561,533,401,632,608,612,446,674,614,900,676,691,520,312,454,394,424,598,425,373,448,487,575,364,561,524,717,478,491,330,297,560,473,590,373,807,530,674,476,486,618,598,338,274,341,292,521,448,454,301,632,580,498,670,376,576,566,566,398,562,432,373,325,672,380,485,324,465,11,343,290,354,478,461,813,423,473,268,438,304,516,644,574,403,259,738,829,530,358,697,420,439,649,297,208,577,574,526,588,679,662,423,637,538,433,327,612,457,519,389,271,538,502,697,636,675,395,366,315,589,944,624,392,641,337,291,623,391,560,730,574,656,263,614,843,595,273,480,434,571,575,574,455,419,420,644,224,479,553,410,585,500,366,537,470,448,401,521,225,450,427,370,613,398,595,663,487,555,611,499,595,316,684,358,228,726,502,581,455,353,35,609,467,481,574,292,398,689,604,313,170,423,545,658,526,338,559,330,363,410,321,470,372,467,440,448,433,703,606,521,284,260,207,915,662,551,360,334,596,754,249,442,498,203,642,447,808,451,575,334,415,330,572,713,419,579,433,527,697,530,351,379,485,482,377,540,708,473,480,170,391,296,452,593,748,790,493,462,638,587,630,632,282,595,497,394,404,710,386,320,545,823,515,559,366,771,531,594,364,644,572,332,518,442,528,473,482,351,461,630,782,332,880,748,538,465,403,641,404,440,648,579,650,590,449,432,635,407,695,634,556,512,568,1058,494,270,808,606,411,917,597,557,391,346,237,446,348,612,462,786,746,537,468,690,334,616,408,449,407,601,391,347,597,446,568,457,553,114,584,799,673,653,474,540,549,526,383,457,484,437,641,905,306,531,288,713,730,254,813,343,547,682,534,867,938,533,216,455,380,393,337,524,838,401,468,692,699,587,671,646,452,578,465,372,610,522,482,557,665,572,542,555,519,391,633,730,429,810,484,474,372,389,364,566,759,593,644,719,124,486,566,623,309,356,634,493,597,363,258,629,696,764,274,304,283,505,416,715,286,241,543,696,387,315,488,258,514,640,545,216,428,465,793,653,503,714,350,458,730,744,625,588,421,627,383,601,555,688,445,610,634,372,536,759,529,464,582,469,580,491,509,583,723,582,767,197,442,548,382,314,607,606,556,573,377,434,495,405,563,878,437,612,351,719,361,544,416,591,513,505,969,414,504,927,334,597,345,671,562,613,468,550,740,159,258,576,410,466,279,371,449,399,377,446,365,719,358,793,453,286,416,656,675,536,556,610,285,421,228,442,659,623,866,537,177,773,710,421,546,632,571,619,494,505,525,389,732,512,618,379,345,497,472,697,605,595,288,362,543,458,711,719,421,647,728,561,763,676,545,647,542,447,567,517,455,786,546,935,466,599,757,935,559,389,636,307,469,554,742,734,507,655,462,614,808,536,465,434,623,719,841,520,537,413,761,500,438,850,637,623,356,579,592,342,477,449,593,355,680,788,464,510,590,698,592,573,437,476,607,772,600,325,579,497,474,478,375,462,390,455,530,539,478,488,517,583,710,608,467,604,473,235,148,246,475,415,400,518,409,414,606,633,889,558,521,423,481,504,239,472,628,423,588,665,678,632,161,424,651,573,512,579,687,535,394,484,479,650,575,596,534,455,521,545,295,539,655,494,755,598,446,488,469,549,628,466,583,784,656,639,385,429,549,496,260,277,671,394,834,167,581,512,394,574,388,645,522,257,136,468,689,540,520,618,296,732,373,517,455,535,210,748,596,823,731,513,366,242,514,545,674,364,635,523,392,631,553,475,802,606,494,555,525,538,582,418,388,567,804,464,355,475,436,461,585,491,419,443,307,378,292,432,343,402,465,325,508,564,362,684,266,451,281,458,306,422,397,328,191,599,822,856,435,504,439,523,369,214,506,322,217,880,475,574,696,250,576,589,524,536,430,624,380,388,624,773,452,433,575,678,662,553,413,609,499,725,293,533,711,435,415,367,468,480,533,375,524,418,454,382,468,1065,1040,689,634,313,421,415,594,586,528,459,368,512,688,578,540,613,602,261,514,445,196,306,462,639,476,552,372,177,526,364,693,780,454,696,659,292,506,552,593,616,616,617,463,570,162,330,698,409,562,745,374,363,435,580,480,360,268,454,477,429,471,342,597,174,534,615,380,503,557,416,509,575,366,641,681,561,514,331,588,323,758,593,553,450,174,326,568,885,626,560,427,530,661,472,805,322,453,520,209,599,524,524,635,673,636,439,504,566,317,351,445,524,789,635,443,414,749,935,537,437,293,663,556,692,371,549,410,709,426,498,458,666,578,356,413,349,590,563,258,216,505,620,538,272,271,646,489,452,716,388,532,576,639,379,567,938,277,579,476,383,383,589,870,388,595,425,818,596,490,608,511,683,483,338,550,753,326,474,667,214,608,628,545,392,510,526,656,614,457,763,504,386,444,645,542,649,522,897,253,447,498,525,737,546,494,522,628,405,581,269,499,366,410,555,337,358,277,166,488,692,483,475,349,757,473,712,568,471,679,664,494,712,788,501,472,574,566,637,472,622,674,539,535,317,330,285,319,487,261,860,626,191,333,495,246,440,681,486,501,356,425,302,568,441,633,703,678,506,433,322,530,660,459,485,607,645,292,542,542,488,650,455,383,554,583,478,635,276,345,35,592,358,472,668,519,443,380,474,605,276,501,633,291,615,617,375,278,579,637,601,630,328,602,422,424,270,682,539,667,746,335,611,510,653,683,639,385,492,552,1001,702,871,576,544,607,430,704,487,299,646,268,226,556,364,370,486,436,477,554,330,322,186,451,614,403,589,595,665,665,405,379,519,408,737,725,526,445,591,410,492,429,528,686,627,689,370,539,359,571,562,712,682,613,433,438,194,442,271,656,651,533,453,534,760,721,442,538,338,574,626,651,274,590,378,453,634,558,486,606,765,415,302,331,365,407,601,188,548,391,682,379,513,366,406,471,476,430,686,597,799,469,677,186,610,569,454,619,648,672,577,605,407,342,470,540,659,389,436,973,415,809,660,425,495,478,585,723,258,825,632,426,492,558,557,698,680,456,491,625,530,688,405,585,556,727,303,512,520,149,705,947,476,556,439,571,453,496,762,380,422,500,491,735,826,360,412,592,452,820,765,598,599,459,630,686,533,810,615,494,569,681,450,498,879,438,658,638,758,593,129,379,591,551,816,729,589,524,271,800,532,272,579,527,423,588,402,303,240,455,414,580,279,479,278,792,493,702,588,652,333,706,737,190,484,410,536,380,555,604,549,493,312,520,431,313,503,479,541,665,601,714,398,377,497,726,714,492,419,276,616,515,329,460,228,578,485,764,301,662,534,524,623,696,345,716,324,345,407,626,346,563,575,535,597,330,668,529,625,359,520,648,669,498,224,341,545,635,583,417,859,523,646,447,339,618,672,794,430,259,762,552,337,425,386,691,603,549,549,384,665,565,471,483,496,374,626,727,895,590,384,543,355,416,409,382,570,339,615,635,672,508,607,791,520,484,786,123,441,888,438,425,321,634,184,388,599,511,608,531,617,312,545,269,633,463,613,428,562,675,205,222,227,643,574,403,744,533,266,354,297,660,418,330,422,382,644,585,558,576,518,364,595,384,345,345,646,664,239,489,551,417,629,551,488,425,616,643,584,474,654,371,534,728,482,381,813,473,580,387,556,584,512,562,698,294,543,203,516,811,657,510,459,593,675,514,762,385,202,396,481,454,380,719,261,435,361,438,408,586,350,384,527,680,224,790,375,612,674,717,431,515,486,418,554,567,457,532,926,510,622,440,430,458,599,387,224,520,444,555,525,625,651,306,275,589,559,366,703,517,531,554,628,748,471,243,669,368,704,420,743,387,339,660,300,617,579,489,459,830,453,482,366,385,421,776,451,405,442,622,308,609,305,491,228,595,619,405,561,537,691,531,673,493,411,506,481,648,503,381,487,696,447,409,664,527,455,397,282,535,462,561,286,716,587,269,675,420,558,546,375,68,595,458,419,576,405,616,535,358,641,585,706,373,373,560,615,640,513,475,613,816,649,525,422,589,436,548,632,655,603,725,798,217,236,368,202,456,459,550,556,405,385,634,452,299,513,543,448,614,546,479,505,583,443,348,487,532,590,507,441,604,494,637,498,511,497,369,368,363,788,480,657,566,800,655,321,461,650,556,863,504,271,580,370,519,679,559,558,481,489,496,78,572,665,310,276,608,278,251,634,410,704,311,416,549,597,584,541,476,422,586,452,577,680,163,791,414,716,752,284,539,1049,478,587,563,708,681,365,444,565,502,904,579,579,382,309,635,481,612,383,650,230,754,643,529,332,450,551,699,351,712,941,435,584,410,245,739,619,432,529,476,285,65,504,440,422,380,230,431,537,347,581,469,496,290,393,575,389,537,818,635,672,877,694,573,814,371,406,824,582,505,583,471,466,452,426,365,502,422,735,548,670,490,499,707,739,517,774,585,569,851,750,652,574,428,494,794,198,413,482,534,235,594,625,366,471,323,763,569,473,368,527,773,554,566,325,537,632,297,686,894,270,191,500,629,499,487,513,346,257,757,557,327,678,310,493,626,381,457,516,814,583,450,477,468,714,467,389,549,497,634,660,680,612,610,807,332,458,249,654,515,465,245,540,471,302,332,393,473,256,483,607,453,403,559,682,442,439,289,360,605,494,630,615,570,630,748,601,578,505,319,433,562,339,584,562,527,558,515,508,510,656,497,102,436,542,660,725,366,629,548,479,515,507,533,548,407,350,661,477,731,368,419,732,730,352,544,719,718,312,762,614,547,477,362,526,472,870,541,485,509,417,833,610,523,686,506,496,425,416,760,631,525,776,515,556,291,585,287,358,659,566,376,450,551,546,246,325,237,500,245,620,356,340,789,847,385,506,816,428,778,639,520,457,774,622,413,572,375,535,749,594,394,565,403,824,233,409,631,384,514,613,706,368,485,438,494,569,416,636,578,438,554,664,665,615,501,415,546,439,460,655,736,604,830,274,515,526,762,589,461,597,611,540,197,670,-30,528,271,456,728,432,809,632,473,371,435,570,144,607,555,638,829,461,360,694,650,489,420,550,336,522,413,385,662,516,721,343,549,349,607,714,670,184,617,513,563,427,256,650,433,460,538,905,867,307,438,665,190,704,463,728,375,369,870,603,463,351,683,565,161,371,972,510,202,374,446,619,486,527,509,363,693,455,440,542,501,431,531,839,595,410,377,474,267,794,543,331,530,288,602,483,518,568,644,386,284,495,384,577,224,645,559,339,462,641,888,457,726,378,544,479,564,434,291,470,580,433,483,574,595,398,470,646,563,303,751,416,403,291,495,496,461,381,254,978,744,456,494,567,510,423,656,335,815,238,461,647,530,279,654,537,385,574,629,850,497,466,433,213,592,193,470,469,642,82,654,431,311,510,548,446,284,698,542,402,700,568,315,608,233,348,535,575,522,212,638,707,692,423,450,354,550,551,392,654,644,613,395,304,613,736,312,169,734,502,694,664,323,445,382,539,692,520,186,703,512,440,186,569,550,564,344,398,369,789,384,481,374,653,510,523,657,616,633,181,546,661,566,651,840,705,337,383,493,412,499,702,429,467,476,616,672,488,462,656,624,587,1018,516,564,499,607,430,668,795,525,501,424,438,247,503,375,706,536,520,728,236,563,348,412,552,650,382,597,738,379,358,510,609,512,385,529,544,443,338,579,514,455,414,434,377,350,708,474,244,436,676,428,787,391,395,351,692,422,576,256,423,614,313,519,597,787,611,658,457,422,520,373,685,632,661,707,495,422,593,690,645,658,745,557,698,510,634,294,751,236,543,458,332,564,563,730,533,601,549,739,687,513,531,787,474,644,375,393,645,612,676,413,669,538,504,773,734,163,567,380,465,413,763,704,598,621,583,618,550,484,590,463,450,470,498,513,904,322,345,550,504,398,562,628,333,448,312,524,537,617,343,558,489,727,559,428,476,428,735,432,262,480,689,614,537,788,420,552,376,389,458,612,830,635,345,480,426,466,694,570,665,605,389,656,302,635,604,682,291,480,514,527,647,620,613,539,771,461,527,422,502,624,321,541,398,634,207,208,763,488,206,250,498,559,564,677,563,500,674,831,516,474,672,433,282,495,550,534,338,419,406,660,491,612,604,482,204,568,621,395,509,443,775,507,543,349,398,301,624,606,383,959,654,574,809,131,497,508,542,351,594,168,528,580,505,568,393,597,453,254,463,415,353,590,518,472,427,771,693,482,525,746,789,682,461,421,628,378,346,456,660,536,549,686,548,335,642,585,498,447,427,508,387,432,281,431,404,601,737,672,674,616,596,628,398,641,326,607,382,361,441,310,514,684,473,588,537,699,487,557,894,689,367,685,368,513,556,646,450,595,786,216,345,697,466,506,655,856,310,371,499,512,528,463,701,371,543,665,570,415,530,462,419,721,481,422,394,530,280,256,541,312,450,632,654,751,355,644,562,706,546,638,688,448,440,305,498,567,396,523,456,445,632,638,689,343,490,613,311,810,548,427,672,570,528,406,238,362,411,582,607,390,640,615,492,364,650,491,354,551,593,285,801,178,258,701,562,445,513,625,377,655,620,505,541,414,379,451,671,474,441,360,336,515,673,702,598,464,455,568,657,663,183,504,362,438,780,391,251,539,492,447,648,599,570,469,566,466,540,601,564,407,428,350,666,507,410,617,432,581,747,657,487,494,812,485,558,562,655,545,568,561,928,647,376,323,261,797,385,665,594,275,825,597,794,565,539,354,517,533,276,509,537,400,575,324,423,528,418,577,455,376,656,605,600,618,668,665,517,442,494,703,326,424,673,643,435,479,487,469,133,445,559,891,285,413,452,365,407,213,494,431,594,520,677,763,530,320,549,728,497,572,362,745,574,446,252,405,352,435,565,640,536,524,570,923,563,533,756,525,407,656,456,543,647,637,263,145,403,768,548,488,487,672,563,585,187,485,514,378,508,418,646,423,714,505,650,866,522,743,345,794,324,501,461,333,309,612,296,304,686,512,570,372,481,559,537,789,415,488,640,658,206,451,407,509,591,580,688,581,560,658,578,306,529,255,684,185,426,526,506,803,520,416,602,324,596,550,451,415,327,220,446,632,401,757,374,843,404,527,734,703,394,626,339,247,614,243,180,502,726,700,280,517,636,662,753,757,644,291,518,298,703,782,201,641,458,437,374,707,571,493,576,669,377,388,618,757,705,494,305,148,368,687,426,555,544,170,705,825,505,666,394,604,841,715,403,353,520,475,502,709,546,769,505,491,634,578,479,265,338,607,596,284,530,594,329,357,697,240,581,663,234,491,329,525,446,256,607,604,416,593,303,320,333,495,430,808,500,599,600,569,541,704,331,765,618,333,684,695,776,446,766,552,285,391,656,789,328,494,410,803,373,718,415,632,306,744,170,561,577,384,362,606,351,507,74,189,505,685,256,617,588,420,508,851,294,586,544,561,511,555,473,249,421,548,552,605,856,255,617,533,506,404,492,617,578,263,652,550,805,339,400,240,512,666,437,431,466,487,670,514,437,610,300,604,479,843,411,577,530,344,647,166,210,309,714,664,318,484,396,548,837,376,814,439,410,606,621,555,284,404,377,432,390,577,668,473,597,629,532,469,427,331,469,536,483,545,519,615,414,493,549,453,555,236,583,583,511,457,444,247,681,610,343,283,452,617,641,594,631,784,247,584,503,395,623,511,698,351,380,579,374,530,449,681,579,448,413,449,883,504,480,481,747,243,684,400,469,616,366,577,500,295,541,601,610,424,509,608,594,451,314,554,561,744,271,457,579,496,826,455,145,625,295,715,574,458,360,799,559,436,404,484,706,808,516,578,562,256,533,434,445,488,63,398,629,530,432,459,344,403,421,483,603,508,499,382,663,548,599,545,637,746,445,596,617,510,808,360,436,524,516,477,437,639,502,386,777,653,742,507,808,654,231,315,602,493,489,678,775,572,531,860,510,442,419,397,524,378,223,312,579,681,698,870,343,723,524,439,445,649,612,232,670,639,475,359,392,320,504,451,463,546,465,248,419,430,246,649,176,577,466,455,612,464,476,376,686,665,618,594,624,619,573,609,402,516,597,399,512,482,704,585,681,608,668,497,529,414,572,988,527,504,645,269,686,380,599,554,501,400,576,686,617,728,296,514,302,529,595,393,710,438,608,458,394,397,287,747,132,312,204,303,79,605,518,352,310,307,468,198,575,498,458,613,565,458,516,491,414,684,698,523,352,330,550,470,385,532,328,564,265,131,479,359,749,724,417,362,478,463,726,458,698,703,902,453,438,771,397,230,525,589,455,457,300,779,543,427,574,641,349,546,437,767,536,337,494,581,837,518,600,698,590,377,487,410,621,750,508,675,404,536,484,764,557,630,459,413,573,385,300,465,759,451,546,419,194,512,774,460,333,358,568,446,664,469,188,443,622,671,711,667,678,805,749,539,438,468,620,699,473,746,399,439,452,409,646,483,798,511,801,135,568,555,811,552,787,805,415,327,645,385,487,423,527,604,622,533,365,380,557,173,329,269,461,587,878,511,346,441,583,670,440,511,695,546,524,460,452,675,429,504,351,605,550,580,507,396,498,312,459,869,771,646,579,640,572,656,698,353,482,507,425,357,709,615,370,348,578,405,326,473,381,643,869,248,641,577,381,661,374,220,337,601,575,667,588,707,201,464,455,503,677,407,551,215,370,657,241,731,436,593,329,628,511,706,427,398,394,818,460,262,659,515,456,592,649,413,529,463,422,585,623,299,684,535,475,265,472,501,528,444,655,755,704,476,564,575,415,510,420,522,761,483,398,725,647,430,397,730,516,540,566,414,680,876,126,542,658,388,525,538,419,621,700,546,569,427,685,498,580,694,465,481,526,477,315,586,288,464,293,713,525,586,471,757,449,690,690,430,578,531,839,357,266,560,361,420,563,310,678,577,732,463,653,338,549,686,411,525,765,390,339,656,508,341,373,565,549,457,547,599,398,462,399,719,313,762,423,511,660,626,459,649,329,726,691,514,574,663,461,596,618,569,291,459,205,452,389,497,570,640,489,518,669,712,545,645,398,757,409,393,595,501,266,679,619,767,557,621,333,800,879,452,404,667,336,535,491,640,206,531,552,237,487,609,314,465,542,430,755,631,422,563,686,550,598,611,626,306,407,457,264,294,567,567,655,568,393,509,400,646,277,645,589,631,422,542,505,277,587,580,396,704,238,448,451,401,409,586,376,522,446,492,811,428,649,517,516,217,670,535,444,517,495,795,340,424,552,799,551,684,628,623,711,867,534,467,541,465,153,494,538,455,478,703,524,507,409,425,496,531,572,765,722,326,784,359,910,542,443,198,450,751,448,442,308,330,422,567,192,615,437,636,511,443,589,590,825,310,403,322,423,433,443,439,432,475,578,684,455,795,647,701,360,228,562,565,248,281,566,672,722,369,605,607,507,348,340,626,251,466,533,681,456,296,565,400,787,377,538,828,675,509,586,884,729,306,540,677,274,556,501,556,387,228,345,802,491,364,739,654,378,678,684,392,595,454,705,316,448,639,499,601,781,445,342,754,444,561,421,268,365,715,447,488,558,694,535,471,379,602,188,329,626,581,314,595,584,328,500,760,435,303,536,425,456,575,503,452,352,384,353,418,784,534,426,492,550,554,561,681,458,567,416,223,423,731,457,670,605,419,808,647,651,371,411,612,697,507,777,492,623,512,681,461,507,278,558,525,593,564,408,614,916,412,656,422,371,337,601,517,647,482,329,481,500,606,324,226,583,391,435,597,514,537,695,677,512,429,326,560,870,674,546,341,321,429,-69,576,704,529,461,721
};


void setup() {
    
k = 0;
int i=0;

for(i = 0; i < BL; ++i) {
    x[i]=0;
} /* for */
Serial.begin(1000000); /* velocidad máxima para que no interfiera en tiempos */
while (!Serial) {
    ; // Esperar a que el puerto inicie
} /* while */
randomSeed(-1); // pruebo con la misma semilla

pinMode(A0, INPUT); // Establece el pin A0 como entradaSetup_Timer();    
     
} 


void loop(){
 
long sal;
 
switch(entrada){
  
    case PASO: //caso para la entrada paso
    if(cont>20){
        cont = 0;
        if(walk){
            walk = 0;
        } else {
            walk = 256;
        }
    }
    cont++;
    break;

    case RUIDO: //caso para el ruido
    
    q = random(0,5000);
    index = pgm_read_word_near(noise + q);
    walk = (uint16_t)index; 
    break;

    case IMPULSO:  //caso para el impulso
    if(cont>20){
        cont = 0;
        walk = 256; 
    } else {
        walk = 0;
    }
    cont++;
    break;
    

    case SENO_FIR_20Hz: //caso para el seno de 1Hz filtro FIR
    
    m = (sizeof(sine_FIR_20Hz)/sizeof(sine_FIR_20Hz[0]));
    
    if(n==(m-1)){
        n = 0;
    } else {
        n++;
    }

    walk = sine_FIR_20Hz[n];
    
    break;
    case SENO_FIR_10Hz: //caso para el seno de 10Hz filtro FIR
    
    m = (sizeof(sine_FIR_10Hz)/sizeof(sine_FIR_10Hz[0]));
    
    if(n==(m-1)){
        n = 0;
    } else {
        n++;
    }

    walk = sine_FIR_10Hz[n];
    
    break;

    case SENO_FIR_25Hz: //caso para el seno de 25Hz filtro FIR
    
    m = (sizeof(sine_FIR_25Hz)/sizeof(sine_FIR_25Hz[0]));
    
    if(n==(m-1)){
        n = 0;
    } else {
        n++;
    }

    walk = sine_FIR_25Hz[n];
    
    break;


    case SENO_IIR_1Hz: //caso para el seno de 1Hz filtro IIR
    
    m = (sizeof(sine_IIR_1Hz)/sizeof(sine_IIR_1Hz[0]));
    
    if(n==(m-1)){
        n = 0;
    } else {
        n++;
    }

    walk = sine_IIR_1Hz[n];
    
    break;

    case SENO_IIR_10Hz: //caso para el seno de 10Hz filtro IIR
    
    m = (sizeof(sine_IIR_10Hz)/sizeof(sine_IIR_10Hz[0]));
    
    if(n==(m-1)){
        n = 0;
    } else {
        n++;
    }

    walk = sine_IIR_10Hz[n];
    
    break;

    case SENO_IIR_25Hz: //caso para el seno de 25Hz filtro IIR
    
    m = (sizeof(sine_IIR_25Hz)/sizeof(sine_IIR_25Hz[0]));
    
    if(n==(m-1)){
        n = 0;
    } else {
        n++;
    }

    walk = sine_IIR_25Hz[n];
    
    break;
    
    default:
        Serial.println("no seleccionó entrada");
        walk = -1;
       

} /* switch */


/*Salida implementación de filtros*/

switch(salida){

/*-------------------------------------------------------------------------*/
    case FIR1:
    ts1 = micros();
    sal = filtrarFIR1(walk);
    ts2 = micros();
    if(MEDIRTIEMPOS){
        Serial.print(ts2-ts1); /* tiempo en microsegundos */
        Serial.print(" ");
        Serial.print(",");
    }
    Serial.print(walk);
    Serial.print(" ");
    Serial.print(",");
    Serial.print(sal);
    Serial.print(" ");
    break;
    
/*-------------------------------------------------------------------------*/
    case FIR2:
    ts1 = micros();
    sal = filtrarFIR2(walk);
    ts2 = micros();
    if(MEDIRTIEMPOS){
        Serial.print(ts2-ts1); /* tiempo en microsegundos */
        Serial.print(" ");
        Serial.print(",");
    }
    Serial.print(walk);
    Serial.print(" ");
    Serial.print(",");
    Serial.print(sal);
    Serial.print(" ");
    break;
    
/*-------------------------------------------------------------------------*/
   case FIR3:
    ts1 = micros();
    sal = filtrarFIR3(walk);
    ts2 = micros();
    if(MEDIRTIEMPOS){
        Serial.print(ts2-ts1); /* tiempo en microsegundos */ 
        Serial.print(" ");
        Serial.print(",");
    }
    Serial.print(walk);
    Serial.print(" ");
    Serial.print(sal);
    Serial.print(" ");
    break;
/*-------------------------------------------------------------------------*/
    case FIR4:
    ts1 = micros();
    sal = filtrarFIR4(walk); /* Implementación FIR (coeficientes simétricos) */
    ts2 = micros();
    if(MEDIRTIEMPOS){
        Serial.print(ts2-ts1); /* tiempo en microsegundos */ 
        Serial.print(" ");
        Serial.print(",");
    }
    Serial.print(walk);
    Serial.print(" ");
    Serial.print(",");
    Serial.print(sal);
    Serial.print(" ");
    break;
    
/*-------------------------------------------------------------------------*/
    case IIR1:
    ts1 = micros();
    sal = filtrarIIR1(walk); /* Implementación IIR */
    ts2 = micros();
    if(MEDIRTIEMPOS){
        Serial.print(ts2-ts1); /* tiempo en microsegundos */
        Serial.print(" ");
        Serial.print(",");
    }
    Serial.print(walk);
    Serial.print(" ");
    Serial.print(",");
    Serial.print(sal);
    Serial.print(" ");
    break;

    
} /* switch */ 

Serial.println("");
delay(100);

} /* loop */
